# ๐ ุชุญูู ุฌุงูุน ู ฺฉุงูู โ ุตูุญู `forgot-password.html` (ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ)

---

## ๐ฏ ฑ. ูุฏู ุงุตู ุตูุญู
- **ุจุงุฒุงุจ ุงูู ุฑูุฒ ุนุจูุฑ**: ุงูฺฉุงู ุจุงุฒุงุจ ุญุณุงุจ ฺฉุงุฑุจุฑ ุจุฑุง ฺฉุงุฑุจุฑุงู ูุฑุงููุดโฺฉุงุฑ.
- **ุฌููฺฏุฑ ุงุฒ ุญููุงุช ุงููุช**: ููุงุจูู ุจุง ุฑูุดโูุง ุฑุงุฌ ูฺฉ (Brute Forceุ Phishing) ุงุฒ ุทุฑู ูฺฉุงูุฒูโูุง ูพุดุฑูุชู.
- **ุจูุจูุฏ ุชุฌุฑุจู ฺฉุงุฑุจุฑ**: ูุฑุงูุฏ ุณุงุฏู ู ุณุฑุน ุจุง ุจุงุฒุฎูุฑุฏ ููุฑ ุจู ฺฉุงุฑุจุฑ.

---

## ๐๏ธ ฒ. ุณุงุฎุชุงุฑ ฺฉู ุตูุญู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 1๏ธโฃ Header (ููฺฉ ุจู ุตูุญู ุงุตู ู ูุฑูุฏ)                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 2๏ธโฃ Hero Section (ุนููุงู ู ุชูุถุญุงุช ฺฉูุชุงู)                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 3๏ธโฃ ูุฑู ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ                                   โ
โ   โโโ ูุฑูุฏ ุงูู/ุดูุงุฑู ููุจุงู                             โ
โ   โโโ CAPTCHA ุง ุงุญุฑุงุฒ ููุช ุฏู ูุฑุญููโุง (ุงุฎุชุงุฑ)          โ
โ   โโโ ุฏฺฉูู ุงุฑุณุงู ููฺฉ ุจุงุฒุงุจ                              โ
โ   โโโ ููฺฉ ุจู ุตูุญู ูุฑูุฏ                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 4๏ธโฃ ูพุงูโูุง ูุถุนุช (Success/Error)                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 5๏ธโฃ Footer (ููฺฉโูุง ููุฏ ู ุญููู)                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## โ๏ธ ณ. ุชุญูู ูู

### 3.1. ุทุฑุงุญ ู UX
- **ุชู ุฑูฺฏ**: ุงุณุชูุงุฏู ุงุฒ ุฑูฺฏโูุง ุขุจ (ุงุนุชูุงุฏ) ู ุฎุงฺฉุณุชุฑ (ุฎูุซ) ุจุง ุชุฃฺฉุฏ ุจุฑ ุฏฺฉููโูุง ุงุตู.
- **ุงููุดูโูุง ุธุฑู**: ุจุฑุง ุชุฃุฏ ุงุนุชุจุงุฑุณูุฌ ู ุงูุชูุงู ุจู ุตูุญุงุช.
- **ุฑุงูููุง**: ูุชูโูุง ฺฉูฺฺฉ ุจุฑุง ฺฉูฺฉ ุจู ฺฉุงุฑุจุฑ (ูุซูุงู ยซุงูู ุง ุดูุงุฑูโุง ฺฉู ุจุง ุขู ุซุจุชโูุงู ฺฉุฑุฏูโุงุฏ ูุงุฑุฏ ฺฉูุฏยป).
- **ุจุงุฒุฎูุฑุฏ ููุฑ**: 
  - ุชุฃุฏู ุจู ุตูุฑุช real-time ุจุฑุง ูุฑูุช ุงูู/ุดูุงุฑู.
  - ููุงุด ูพุงูโูุง ุฎุทุง ูุงุถุญ (ูุซูุงู ยซุงูู ูุงูุนุชุจุฑยป).
- **ุฑุณูพุงูุณู**: ุทุฑุงุญ ุจุฑุง ุชูุงู ุฏุณุชฺฏุงูโูุง (ููุจุงูุ ุชุจูุชุ ุฏุณฺฉุชุงูพ).

### 3.2. ุนููฺฉุฑุฏูุง ุฏุงูุงูฺฉ (ุฌุงูุงุงุณฺฉุฑูพุช)
| ุชุงุจุน | ุชูุถุญ | ุชุนุงูู ฺฉุงุฑุจุฑ |
|------|-------|-------------|
| `validateInput()` | ุจุฑุฑุณ ุงุนุชุจุงุฑ ุงูู/ุดูุงุฑู ููุจุงู ูุจู ุงุฒ ุงุฑุณุงู | ฺฉูฺฉ ุฑู ุฏฺฉูู "ุงุฑุณุงู ููฺฉ" |
| `sendResetRequest()` | ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุจู ุณุฑูุฑ | ุชุฃุฏ ุงุนุชุจุงุฑุณูุฌ |
| `showMessage(type, message)` | ููุงุด ูพุงูโูุง ูุถุนุช (Success/Error) | ุฏุฑุงูุช ูพุงุณุฎ ุงุฒ ุณุฑูุฑ |
| `loadCaptcha()` | ุจุงุฑฺฏุฐุงุฑ CAPTCHA (ุงฺฏุฑ ูุนุงู ุจุงุดุฏ) | ููุฏ ุตูุญู |
| `handleTwoFactor()` | ูุฏุฑุช ุงุญุฑุงุฒ ููุช ุฏู ูุฑุญููโุง (ุงฺฏุฑ ูุนุงู ุจุงุดุฏ) | ุงูุชุฎุงุจ ุฑูุด ุฏุฑุงูุช ฺฉุฏ |

### 3.3. ุงููุช
- **CAPTCHA**: 
  - ุงุณุชูุงุฏู ุงุฒ reCAPTCHA v3 (ุบุฑุชุฏุงุฎู) ุง hCaptcha ุจุฑุง ุดูุงุณุง ุฑุจุงุชโูุง.
  - ูพฺฉุฑุจูุฏ ุจุฑุง ูุนุงูโุณุงุฒ ููุท ุฏุฑ ุตูุฑุช ุดูุงุณุง ุฑูุชุงุฑ ูุดฺฉูฺฉ.
- **ุงุญุฑุงุฒ ููุช ุฏู ูุฑุญููโุง (2FA)**:
  - ฺฏุฒููโุง ุจุฑุง ฺฉุงุฑุจุฑุงู ุฏุงุฑุง 2FA ูุนุงู ุดุฏู (ุงุฑุณุงู ฺฉุฏ ุจู ุงูู/ููุจุงู ุซุงููู).
- **ูุญุฏูุฏุช ุฏุฑุฎูุงุณุชโูุง**:
  - Rate Limiting (ุญุฏุงฺฉุซุฑ ต ุฏุฑุฎูุงุณุช ุฏุฑ ุฏููู ุจุฑุง ฺฉ IP ุง ุงูู).
  - ูุณุฏูุฏุณุงุฒ ูููุช ูพุณ ุงุฒ ฑฐ ุฏุฑุฎูุงุณุช ูุงูููู.
- **ุฑูุฒูฺฏุงุฑ**:
  - ุงุฑุณุงู ููฺฉ ุจุงุฒุงุจ ุงุฒ ุทุฑู HTTPS.
  - ุฐุฎุฑูโุณุงุฒ ุฑูุฒูุง ุฌุฏุฏ ุจู ุตูุฑุช ุฑูุฒูฺฏุงุฑโุดุฏู (bcrypt/scrypt).
- **ุงููุช ูุฑู**:
  - ุฌููฺฏุฑ ุงุฒ Autofill ุชูุณุท ููุงุฌูู (autocomplete="off").
  - ุงุณุชูุงุฏู ุงุฒ CSRF Token ุฏุฑ ุฏุฑุฎูุงุณุชโูุง ุณุฑูุฑ.

### 3.4. ุจฺฉโุงูุฏ ู ุฏุชุงุจุณ
- **API Endpoint**:
  - `POST /api/auth/forgot-password`  
    ูพุงุฑุงูุชุฑูุง: `identifier` (ุงูู ุง ููุจุงู), `captcha_token` (ุงุฎุชุงุฑ)
- **ุฏุณุชฺฏุงูโูุง ุฐุฎุฑูโุณุงุฒ**:
  - **Redis**: ุจุฑุง ุฐุฎุฑูโุณุงุฒ ูููุช ุชูฺฉูโูุง ุจุงุฒุงุจ (ุจุง TTL ณฐ ุฏููู).
  - **Database**: ุฌุฏูู `password_reset_tokens` ุจุง ุณุชููโูุง:
    ```sql
    token_hash VARCHAR(255) PRIMARY KEY,
    user_id INT NOT NULL,
    expires_at DATETIME NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    ```
- **ุงูฺฏูุฑุชู ุชููุฏ ุชูฺฉู**:
  - ุงุณุชูุงุฏู ุงุฒ `crypto.randomBytes()` (ุฏุฑ Node.js) ุง `secrets` (ุฏุฑ Python) ุจุฑุง ุชููุฏ ุชูฺฉูโูุง ณฒ ุจุงุช ุชุตุงุฏู.
  - hash ุชูฺฉู ูุจู ุงุฒ ุฐุฎุฑูโุณุงุฒ (ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูู ุฑูุชู ุฏุฑ ุตูุฑุช ูฺฉ ุฏุชุงุจุณ).

---

## ๐ฆ ด. ุณุงุฎุชุงุฑ ุฏุงุฏู (API)

### 4.1. ุฏุฑุฎูุงุณุช ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ
```json
{
  "identifier": "user@example.com", // ุง "0912-345-6789"
  "captcha_token": "03AOLTBLQ..." // ุงุฎุชุงุฑ
}
```

### 4.2. ูพุงุณุฎ ูููู (200 OK)
```json
{
  "status": "success",
  "message": "ููฺฉ ุจุงุฒุงุจ ุจู ุงูู ุดูุง ุงุฑุณุงู ุดุฏ. ูุทูุงู ุงูู ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.",
  "next_step": {
    "type": "email_sent", // ุง "two_factor_required"
    "expires_in": 1800 // ุฒูุงู ุงููุถุง ููฺฉ (ุซุงูู)
  }
}
```

### 4.3. ูพุงุณุฎโูุง ุฎุทุง
```json
// 400 Bad Request: ูุฑูุช ูุงูุนุชุจุฑ
{
  "status": "error",
  "message": "ูุทูุงู ุงูู ุง ุดูุงุฑู ููุจุงู ูุนุชุจุฑ ูุงุฑุฏ ฺฉูุฏ."
}

// 429 Too Many Requests: ุฏุฑุฎูุงุณุชโูุง ุจุด ุงุฒ ุญุฏ
{
  "status": "error",
  "message": "ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุดูุง ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ ุงุณุช. ูุทูุงู ุจุนุฏุงู ุชูุงุด ฺฉูุฏ."
}

// 403 Forbidden: CAPTCHA ูุงูุนุชุจุฑ
{
  "status": "error",
  "message": "ูุทูุงู ุชุฃุฏู ุงููุช ุฑุง ฺฉุงูู ฺฉูุฏ."
}
```

---

## ๐จ ต. ุฌุฒุฆุงุช ุทุฑุงุญ UI

### 5.1. ูุฑู ุงุตู
- **ูุฑูุฏ**:
  - `type="email"` ุจุฑุง ุงูู (ุจุง validation pattern).
  - `type="tel"` ุจุฑุง ููุจุงู (ุจุง pattern ุดูุงุฑูโูุง ุงุฑุงู).
  - placeholder: "ุงูู ุง ุดูุงุฑู ููุจุงู ุดูุง"
- **ุฏฺฉูู**:
  - ูุชู: "ุงุฑุณุงู ููฺฉ ุจุงุฒุงุจ"
  - ุญุงูุช ุบุฑูุนุงู ููฺฏุงู ุงุฑุณุงู ุฏุฑุฎูุงุณุช.
- **ููฺฉ ฺฉูฺฉ**: "ูโุฎูุงูู ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูู" (ููฺฉ ุจู ุตูุญู ูุฑูุฏ).

### 5.2. ุงุญุฑุงุฒ ููุช ุฏู ูุฑุญููโุง (2FA)
- ููุงุด ููุท ุฏุฑ ุตูุฑุช ูุนุงูโุจูุฏู 2FA ุจุฑุง ฺฉุงุฑุจุฑ:
  - ุงูุชุฎุงุจ ุฑูุด ุฏุฑุงูุช ฺฉุฏ (ุงูู/ููุจุงู).
  - ูุฑูุฏ ถ ุฑูู ุจุฑุง ฺฉุฏ.
  - ุฏฺฉูู "ุชุฃุฏ ฺฉุฏ".
- ุชุงูุฑ ณฐ ุซุงููโุง ุจุฑุง ุงููุถุง ฺฉุฏ.

### 5.3. ูพุงูโูุง ูุถุนุช
- **ูููู**:
  - ูพุณโุฒููู ุณุจุฒุ ุขฺฉูู ุชุฃุฏ (โ)ุ ูุชู ุณุจุฒ.
- **ุฎุทุง**:
  - ูพุณโุฒููู ูุฑูุฒุ ุขฺฉูู ุงุฎุทุงุฑ (โ)ุ ูุชู ูุฑูุฒ.
- **ูุดุฏุงุฑ**:
  - ูพุณโุฒููู ุฒุฑุฏุ ูุชู ุณุงู (ุจุฑุง ุงุฎุทุงุฑูุง ุงููุช).

---

## ๐ ถ. ูพุดููุงุฏุงุช ุชูุณุนูโุง

### 6.1. ููุด ูุตููุน
- **ุชุดุฎุต ุงูฺฏููุง ูุดฺฉูฺฉ**: ุดูุงุณุง ุฏุฑุฎูุงุณุชโูุง ุณุฑุน ุงุฒ ฺฉ IP (ุจุง ุงุฏฺฏุฑ ูุงุดู).
- **ูพุดโุจู ูฺฉ**: ูุดุฏุงุฑ ุจู ุงุฏูู ุฏุฑ ุตูุฑุช ุฏุฑุฎูุงุณุชโูุง ููุฒูุงู ุงุฒ ฺูุฏู ฺฉุดูุฑ.

### 6.2. ุจูุจูุฏ UX
- **ุฐุฎุฑูโ ูพุดโููุณ**: ุฐุฎุฑูโ ุงูู ูุงุฑุฏโุดุฏู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุฑูุฏ ูุฌุฏุฏ.
- **ูพุดุชุจุงู ฺูุฏ ุฒุจุงูู**: ููุงุด ูพุบุงูโูุง ุจุฑ ุงุณุงุณ ุฒุจุงู ฺฉุงุฑุจุฑ.
- **ุงูฺฉุงูุงุช ฺฉูฺฉ**: 
  - ููฺฉ "ูุดุงูุฏู ุงูู" (ุจุฑุง ุงุทููุงู ุงุฒ ุตุญุช ุงูู ูุงุฑุฏโุดุฏู).
  - ุฑุงูููุง ุชุตูุฑ ุจุฑุง ุงูุชู ุงูู ุจุง ููฺฉ ุจุงุฒุงุจ.

### 6.3. ฺฉูพุงุฑฺูโุณุงุฒโูุง ูพุดุฑูุชู
- **ุงุชุตุงู ุจู SIEM**: ฺฏุฒุงุฑุด ุฏุฑุฎูุงุณุชโูุง ูุดฺฉูฺฉ ุจู ุณุณุชูโูุง ุงููุช (ูุซู Splunk).
- **Webhook**: ุงุทูุงุนโุฑุณุงู ุจู ุชู ูพุดุชุจุงู ุฏุฑ ุตูุฑุช ุฏุฑุฎูุงุณุชโูุง ุฒุงุฏ ุงุฒ ฺฉ IP.
- **OAuth**: ุงูฺฉุงู ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ ุงุฒ ุทุฑู ุญุณุงุจโูุง ฺฏูฺฏู/ูุณโุจูฺฉ (ุงุฎุชุงุฑ).

---

## โ ุฎูุงุตู ููุง

ุตูุญู `forgot-password.html` ุจุงุฏ **ุงููุ ฺฉุงุฑุจุฑูพุณูุฏ ู ููุงูู ุฏุฑ ุจุฑุงุจุฑ ุญููุงุช** ุจุงุดุฏ. ุจุง ุชุฑฺฉุจ **ุชฺฉูฺฉโูุง ุงุนุชุจุงุฑุณูุฌ ูพุดุฑูุชู** (CAPTCHAุ 2FA)ุ **ูุญุฏูุฏุชโูุง ุฏุฑุฎูุงุณุช** ู **ุทุฑุงุญ UX ุชูุฒ**ุ ูโุชูุงูู ุงุทููุงู ุญุงุตู ฺฉูู ฺฉู ฺฉุงุฑุจุฑุงู ุจู ุฑุงุญุช ู ุงูู ุจู ุญุณุงุจโูุง ุฎูุฏ ุจุงุฒฺฏุฑุฏูุฏ.

---

## ๐ฏ ฺฏุงู ุจุนุฏ

**ุขุง ุชุญูู ููู ุจุฑุง ุดูุง ฺฉุงู ุงุณุชุ**  
ุงฺฏุฑ ุจูู โ **ูุทูุงู ุชุฃุฏ ฺฉูุฏ** ุชุง ุตูุญู `forgot-password.html` ุฑุง ุจุง ุชูุงู ูฺฺฏโูุง ุฐฺฉุฑ ุดุฏู ูพุงุฏูโุณุงุฒ ฺฉูู! ๐

๐ ูฺฉุงุช ูพุงุฏูโุณุงุฒ:
ูุงูุจุฑ ูููุงู: ูุฏุฑ ุณุงุฏู ุดุฏู ุงุณุช ุชุง ฺฉุงุฑุจุฑ ุจุฑ ุจุงุฒุงุจ ุชูุฑฺฉุฒ ฺฉูุฏ.
ุงููุช UX (ุนุฏู ูุงุดโุณุงุฒ): ูพุงู ููููุชโุขูุฒ API ุจุงุฏ ุจู ฺฏูููโุง ุจุงุดุฏ ฺฉู ุชุฃุฏ ูฺฉูุฏ ุขุง ุงูู/ุดูุงุฑู ุฏุฑ ุณุณุชู ูุฌูุฏ ุฏุงุดุชู ุงุณุช ุง ุฎุฑ (ุจู ุฎุท showAlert('ุงฺฏุฑ ุญุณุงุจ ฺฉุงุฑุจุฑ ูุฑุชุจุท ุงูุช ุดูุฏ...') ุชูุฌู ฺฉูุฏ โ ุงู ฺฉ ุงูุฏุงู ุงุณุชุงูุฏุงุฑุฏ ุงููุช ุงุณุช).
Honeypot: ููุฏ ูุฎู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุญููุงุช ุฑุจุงุชโูุง ุญุฐู ุดุฏู (ุจู ุฏูู ูุงุฒ ุจู ุฑูุฏุฑ ุดุฏู ุฏุฑ HTML)ุ ุงูุง ฺฉุฏ ุฌุงูุงุงุณฺฉุฑูพุช ุขู (ฺฉู ุจุงุฏ ูุจู ุงุฒ ุงุฑุณุงู ฺฺฉ ุดูุฏ) ุฏุฑ ุชุญูู ูุฌูุฏ ุฏุงุดุช ู ุฏุฑ ูุณุฎู ูุงูุน ุจุงุฏ ุฏุฑ ุณุฑูุฑ ูพุงุฏูโุณุงุฒ ุดูุฏ.
CAPTCHA: ูุญู ูุฑุงุฑฺฏุฑ reCAPTCHA ุฏุฑ ูุฑู ูุดุฎุต ุดุฏู ุงุณุช.
Loading State: ุฏฺฉูู ููฺฏุงู ุงุฑุณุงู ุจู ุญุงูุช "ุฏุฑ ุญุงู ุงุฑุณุงู..." ู Spinner ูโุฑูุฏ.
ุงุนุชุจุงุฑุณูุฌ: ุงุนุชุจุงุฑุณูุฌ ุงููู (ุงูู/ุชููู) ุณูุช ฺฉูุงูุช ุจุง Regex ุงูุฌุงู ูโุดูุฏ.
ุงู ูุงู ุขูุงุฏูู ูพุงุฏูโุณุงุฒ ุฏุฑ ูพุฑูฺูู ุดูุง ุงุณุช ู ุชูุงู ุฌูุจูโูุง ุงููุช ู UX ฺฉ ุตูุญู ุจุงุฒุงุจ ุฑูุฒ ุงุณุชุงูุฏุงุฑุฏ ุฑุง ุฑุนุงุช ูโฺฉูุฏ.